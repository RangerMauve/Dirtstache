<html>
	<head>
	<style>
		#content{
			width:700px;
		}
		.in{
			display:inline-block;
		}
		textarea {
			width:300px;
			height:100px;
		}
		.ou{
			border: 1px solid black;
			width:600px;
			height:200px;
		}
	</style>
	<script src="../Dirtstache.js"></script>
	<script>
		function compute(){
			var tm = ""+document.getElementById("tm").value;
			var js = JSON.parse(document.getElementById("js").value);
			
			var out = Dirtstache.make(tm);
			var out2 = Dirtstache.compile("test",tm)(js);
			
			document.getElementById("cout").innerHTML = Dirtstache.escape(out);
			document.getElementById("hout").innerHTML = Dirtstache.escape(out2);
		}
		function toggleVisible(id){
				var s= document.getElementById(id).style;
				s.display = (s.display == 'none') ? 'block' : 'none';
				return s.display;
			}
	</script>
	</head>
	<body>
		<div id="content">
			<div class="in">
				<div>Template:</div>
				<textarea id="tm">
<h1>Hello, {name}.</h1>I really like <b>{#stuff}{dicks}{/stuff}!</b>				
				</textarea>
			</div>
			<div class="in">
				<div>JSON:</div>
				<textarea id="js">
{"name":"Bob Dole","stuff":{"dicks":"Butts"}}
				</textarea>
			</div>
			<div>
				<div>Output:</div>
				<textarea id="cout" class="ou">Code will go here</textarea>
				<textarea id="hout" class="ou">Html will go here</textarea>
			</div>
			<div>
				<center>
					<button onclick="compute()">Render</button>
				</center>
			</div>
		</div>
	</body>
</html>